<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.8.0" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.8.0" type="image/png" sizes="32x32"><meta name="description" content="本文主要参考菜鸟教程和b站莫烦老师的视频，学习过程中发现其实很多部分讲的过于笼统，内容学习顺序不太妥当，有些内容无法直接理解。故自己调整了下学习顺序，对一些内容进行了扩展补充，对一些内容则进行了删改（非常少，基本都涵盖了）。如果你也刚入门，可以看看这篇文章，但是如果你已经是大牛，便不用浪费时间了                     1.什么是numpy?       NumPy(Numeric">
<meta property="og:type" content="article">
<meta property="og:title" content="numpy入门">
<meta property="og:url" content="https://1artemise.github.io/2025/09/29/numpy/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="本文主要参考菜鸟教程和b站莫烦老师的视频，学习过程中发现其实很多部分讲的过于笼统，内容学习顺序不太妥当，有些内容无法直接理解。故自己调整了下学习顺序，对一些内容进行了扩展补充，对一些内容则进行了删改（非常少，基本都涵盖了）。如果你也刚入门，可以看看这篇文章，但是如果你已经是大牛，便不用浪费时间了                     1.什么是numpy?       NumPy(Numeric">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://1artemise.github.io/images/image-20250929093614818.png">
<meta property="og:image" content="https://1artemise.github.io/images/image-20251012141510642.png">
<meta property="og:image" content="https://1artemise.github.io/images/image-20251012141615418.png">
<meta property="article:published_time" content="2025-09-28T16:00:00.000Z">
<meta property="article:modified_time" content="2025-10-12T08:55:54.916Z">
<meta property="article:author" content="artemis">
<meta property="article:tag" content="python">
<meta property="article:tag" content="博客">
<meta property="article:tag" content="numpy">
<meta property="article:tag" content="数据分析">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://1artemise.github.io/images/image-20250929093614818.png"><title>numpy入门 | Hexo</title><link ref="canonical" href="https://1artemise.github.io/2025/09/29/numpy/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.8.0"><link rel="stylesheet" href="css/custom.css"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: undefined,
  back2top: {"enable":true},
  codeblock: {"style":"carbon","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: {"colWidth":"220px","gapX":"10px"},
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"复制","copySuccess":"复制成功","copyError":"复制失败"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 7.3.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">首页</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-book-open"></i></span><span class="header-nav-menu-item__text">文章</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">分类</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/tags/"><span class="header-nav-menu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-menu-item__text">标签</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/friends/"><span class="header-nav-menu-item__icon"><i class="fas fa-handshake"></i></span><span class="header-nav-menu-item__text">友链</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/gallery/"><span class="header-nav-menu-item__icon"><i class="fas fa-camera"></i></span><span class="header-nav-menu-item__text">相册</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/about/"><span class="header-nav-menu-item__icon"><i class="fas fa-user"></i></span><span class="header-nav-menu-item__text">关于我</span></a></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">欢迎来到我的世界</div><div class="header-banner-info__subtitle">也许我们未曾相逢，也不会见面，但陌生人，愿你平和而勇敢；
也许我们相识已久，也常常遇见，我的朋友，愿我们总如初见</div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><!-- Just used to judge whether it is an article page--><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-header-title">numpy入门</h1><div class="post-header-meta"><span class="post-header-meta__item"><span class="post-header-meta__icon"><i class="fas fa-calendar-alt"></i></span><time class="post-header-meta__text" datetime="2025-09-28T16:00:00.000Z">2025-09-29</time></span><span class="post-header-meta__item"><span class="post-header-meta__icon"><i class="fas fa-folder"></i></span><a class="post-header-meta__text" href="/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</a><span class="post-header-meta__separator">/</span><a class="post-header-meta__text" href="/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/python/">python</a></span></div></header><div class="post-body"><p>本文主要参考<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://www.runoob.com/" >菜鸟教程</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>和b站莫烦老师的视频，学习过程中发现其实很多部分讲的<strong>过于笼统</strong>，内容学习顺序不太妥当，有些内容<strong>无法直接理解</strong>。故自己调整了下学习顺序，对一些内容进行了扩展补充，对一些内容则进行了删改（非常少，基本都涵盖了）。如果你也<strong>刚入门</strong>，可以看看这篇文章，但是如果你已经是大牛，便不用浪费时间了</p>

        <h2 id="1-什么是numpy"   >
          <a href="#1-什么是numpy" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-什么是numpy" class="headerlink" title="1.什么是numpy?"></a>1.什么是numpy?</h2>
      <p><code>NumPy</code>(Numerical Python)是<strong>Python</strong>语言的一个<strong>扩展程序库</strong>，支持大量的<strong>维度数组</strong>和<strong>矩阵运算</strong>。也针对数组运算提供大量的<strong>数学函数库</strong>。</p>
<p>它的运行速度非常快，主要用于数组计算，包含：</p>
<ul>
<li>强大的N维数组对象 ndarray</li>
<li>广播函数功能</li>
<li>整合c&#x2F;c++&#x2F;Fortran代码的工具</li>
<li>线性代数，傅里叶变换，随机数生成等功能</li>
</ul>
<p>（NumPy 通常与 SciPy（Scientific Python）和 Matplotlib（绘图库）一起使用， 这种组合广泛用于替代 MatLab，是一个强大的科学计算环境，有助于我们通过 Python 学习数据科学或者机器学习。）</p>

        <h2 id="2-如何安装numpy"   >
          <a href="#2-如何安装numpy" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-如何安装numpy" class="headerlink" title="2.如何安装numpy?"></a>2.如何安装numpy?</h2>
      <p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://www.runoob.com/numpy/numpy-install.html" >NumPy 安装 | 菜鸟教程</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<p>前人所述备矣~依旧搬运</p>

        <h2 id="3-矩阵的实现（array）"   >
          <a href="#3-矩阵的实现（array）" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-矩阵的实现（array）" class="headerlink" title="3.矩阵的实现（array）"></a>3.矩阵的实现（array）</h2>
      <p>通过<code>array（）</code>我们可以实现矩阵的创建，我们需要在括号中填入<strong>列表形式</strong>的参数。</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a=np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a))</span><br><span class="line"></span><br><span class="line"><span class="comment">#输出结果</span></span><br><span class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;numpy.ndarray&#x27;</span>&gt;</span><br></pre></td></tr></table></div></figure>

<p>它和列表的一个差别是，<strong>没有逗号</strong>（似乎显而易见）</p>
<p>而当我们尝试去输出数据类型，会发现一个陌生的字符串“numpy.ndarray”</p>

        <h4 id="什么是ndarray"   >
          <a href="#什么是ndarray" class="heading-link"><i class="fas fa-link"></i></a><a href="#什么是ndarray" class="headerlink" title="什么是ndarray?"></a>什么是ndarray?</h4>
      <p>NumPy 最重要的一个特点是其 <strong>N 维数组对象 ndarray</strong>，它是一系列同类型数据的集合，以 0 下标为开始进行集合中元素的索引。</p>
<p>ndarray 对象是用于<strong>存放同类型元素</strong>的多维数组。</p>
<p>ndarray 中的每个元素在内存中都有<strong>相同存储大小的区域</strong>。</p>
<p>ndarray 内部由以下内容组成：</p>
<ul>
<li>一个指向数据（内存或内存映射文件中的一块数据）的指针。</li>
<li>数据类型或 dtype，描述在数组中的固定大小值的格子。</li>
<li>一个表示数组形状（shape）的元组，表示各维度大小的元组。</li>
<li>一个跨度元组（stride），其中的整数指的是为了前进到当前维度下一个元素需要”跨过”的字节数。</li>
</ul>
<p><img src="/../images/image-20250929093614818.png" alt="image-20250929093614818"></p>
<p>创建一个 ndarray 只需调用 NumPy 的 array 函数即可：</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.array(<span class="built_in">object</span>, dtype = <span class="literal">None</span>, copy = <span class="literal">True</span>, order = <span class="literal">None</span>, subok = <span class="literal">False</span>, ndmin = <span class="number">0</span>)</span><br></pre></td></tr></table></div></figure>

<p>这些参数中只有object是必须传入的。下附参数说明：</p>
<div class="table-container"><table>
<thead>
<tr>
<th align="left">名称</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">object</td>
<td align="left"><strong>数组</strong>或嵌套的数列</td>
</tr>
<tr>
<td align="left">dtype</td>
<td align="left">数组元素的<strong>数据类型</strong>，可选</td>
</tr>
<tr>
<td align="left">copy</td>
<td align="left">对象是否需要<strong>复制</strong>，可选</td>
</tr>
<tr>
<td align="left">order</td>
<td align="left"><strong>创建数组的样式</strong>，C为行方向，F为列方向，A为任意方向（默认）</td>
</tr>
<tr>
<td align="left">subok</td>
<td align="left">默认返回一个与基类类型一致的数组</td>
</tr>
<tr>
<td align="left">ndmin</td>
<td align="left">指定生成数组的<strong>最小维度</strong></td>
</tr>
</tbody></table></div>
<p>下面我们来实际演示这些参数（只演示比较重要的，如果你感兴趣可以自己搜索）。</p>
<p>一开始我们就演示了一维数组的创立，二维也是同理</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 多于一个维度  </span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line">a = np.array([[<span class="number">1</span>,  <span class="number">2</span>],  [<span class="number">3</span>,  <span class="number">4</span>]])  <span class="comment">#注意！不能写成（[1,2],[3,4]）</span></span><br><span class="line"><span class="built_in">print</span> (a)</span><br><span class="line"><span class="comment">#输出结果如下</span></span><br><span class="line">[[<span class="number">1</span>  <span class="number">2</span>] </span><br><span class="line"> [<span class="number">3</span>  <span class="number">4</span>]]</span><br></pre></td></tr></table></div></figure>


        <h4 id="ndmin-最小维度"   >
          <a href="#ndmin-最小维度" class="heading-link"><i class="fas fa-link"></i></a><a href="#ndmin-最小维度" class="headerlink" title="ndmin(最小维度)"></a>ndmin(最小维度)</h4>
      <p>什么是最小维度？顾名思义就是你定义的这个矩阵最少是几维，那你可能会疑惑，要是我定义一个一维数组但是令ndmin&#x3D;2会怎么样呢？</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 最小维度  </span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line">a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], ndmin =  <span class="number">2</span>)  </span><br><span class="line"><span class="built_in">print</span> (a)</span><br><span class="line"></span><br><span class="line"><span class="comment">#输出如下</span></span><br><span class="line">[[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]]</span><br></pre></td></tr></table></div></figure>

<p>可以观察到这是有两对[]的。这就是ndmin&#x3D;2起到的效果。也就是说你改成三的话会有三对[]，少于三对会帮你自动补全[]，<strong>那如果多于三对呢？</strong></p>
<p>答案是什么都不会发生，因为一开始我们就说了这是<strong>最少</strong>。所以你维度再多也没关系。</p>

        <h4 id="detype（数据类型）"   >
          <a href="#detype（数据类型）" class="heading-link"><i class="fas fa-link"></i></a><a href="#detype（数据类型）" class="headerlink" title="detype（数据类型）"></a>detype（数据类型）</h4>
      <figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a =np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],dtype=<span class="built_in">complex</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="comment">#输出结果</span></span><br><span class="line">[<span class="number">1.</span>+<span class="number">0.j</span> <span class="number">2.</span>+<span class="number">0.j</span> <span class="number">3</span>+<span class="number">0.j</span>]</span><br></pre></td></tr></table></div></figure>

<p>代码可以看到我们传给dtype的参数是complex，结合输出我们可以看出这是<strong>复数</strong>的意思。那么numpy有哪些数据类型呢？numpy 支持的数据类型比 Python 内置的类型要多很多，<strong>基本上可以和 C 语言的数据类型对应上</strong>，其中部分类型对应为 Python 内置的类型。下表列举了常用 NumPy 基本类型。（看看就行不用硬背）</p>
<div class="table-container"><table>
<thead>
<tr>
<th align="left">名称</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">bool_</td>
<td align="left">布尔型数据类型（True 或者 False）</td>
</tr>
<tr>
<td align="left">int_</td>
<td align="left">默认的整数类型（类似于 C 语言中的 long，int32 或 int64）</td>
</tr>
<tr>
<td align="left">intc</td>
<td align="left">与 C 的 int 类型一样，一般是 int32 或 int 64</td>
</tr>
<tr>
<td align="left">intp</td>
<td align="left">用于索引的整数类型（类似于 C 的 ssize_t，一般情况下仍然是 int32 或 int64）</td>
</tr>
<tr>
<td align="left">int8</td>
<td align="left">字节（-128 to 127）</td>
</tr>
<tr>
<td align="left">int16</td>
<td align="left">整数（-32768 to 32767）</td>
</tr>
<tr>
<td align="left">int32</td>
<td align="left">整数（-2147483648 to 2147483647）</td>
</tr>
<tr>
<td align="left">int64</td>
<td align="left">整数（-9223372036854775808 to 9223372036854775807）</td>
</tr>
<tr>
<td align="left">uint8</td>
<td align="left">无符号整数（0 to 255）</td>
</tr>
<tr>
<td align="left">uint16</td>
<td align="left">无符号整数（0 to 65535）</td>
</tr>
<tr>
<td align="left">uint32</td>
<td align="left">无符号整数（0 to 4294967295）</td>
</tr>
<tr>
<td align="left">uint64</td>
<td align="left">无符号整数（0 to 18446744073709551615）</td>
</tr>
<tr>
<td align="left">float_</td>
<td align="left">float64 类型的简写</td>
</tr>
<tr>
<td align="left">float16</td>
<td align="left">半精度浮点数，包括：1 个符号位，5 个指数位，10 个尾数位</td>
</tr>
<tr>
<td align="left">float32</td>
<td align="left">单精度浮点数，包括：1 个符号位，8 个指数位，23 个尾数位</td>
</tr>
<tr>
<td align="left">float64</td>
<td align="left">双精度浮点数，包括：1 个符号位，11 个指数位，52 个尾数位</td>
</tr>
<tr>
<td align="left">complex_</td>
<td align="left">complex128 类型的简写，即 128 位复数</td>
</tr>
<tr>
<td align="left">complex64</td>
<td align="left">复数，表示双 32 位浮点数（实数部分和虚数部分）</td>
</tr>
<tr>
<td align="left">complex128</td>
<td align="left">复数，表示双 64 位浮点数（实数部分和虚数部分）</td>
</tr>
</tbody></table></div>
<p>我们用实例来理解一下</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># 使用标量类型</span></span><br><span class="line">dt = np.dtype(np.int32)</span><br><span class="line"><span class="built_in">print</span>(dt)</span><br><span class="line"><span class="comment">#输出结果</span></span><br><span class="line"><span class="built_in">int</span> <span class="number">32</span></span><br></pre></td></tr></table></div></figure>

<p>注意，# int8, int16, int32, int64 四种数据类型可以使用字符串 <strong>‘i1’, ‘i2’,’i4’,’i8’</strong> 代替，所以你看到这些参数不要疑惑，这只是它们的另一种表达方式</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">dt = np.dtype(<span class="string">&#x27;i4&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(dt)</span><br><span class="line"><span class="comment">#输出结果</span></span><br><span class="line"><span class="built_in">int</span> <span class="number">32</span></span><br></pre></td></tr></table></div></figure>


        <h4 id="dtype创建结构化数据类型"   >
          <a href="#dtype创建结构化数据类型" class="heading-link"><i class="fas fa-link"></i></a><a href="#dtype创建结构化数据类型" class="headerlink" title="dtype创建结构化数据类型"></a>dtype创建结构化数据类型</h4>
      <p>NumPy的结构化数据类型（<code>dtype</code>）让你能在数组中处理像<strong>数据库表记录</strong>或<strong>C语言结构体</strong>这样的复合数据</p>
<p>创建结构化数据类型我们有四种方式</p>
<ul>
<li><strong>元组列表（最常用最推荐，其他的了解即可）</strong></li>
<li>逗号分隔字符串</li>
<li>字段参数字典</li>
<li>字段名称字典</li>
</ul>
<div class="table-container"><table>
<thead>
<tr>
<th align="left">方法</th>
<th align="left">语法示例</th>
<th align="left">特点说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>元组列表</strong></td>
<td align="left"><code>dtype = np.dtype([(&#39;name&#39;, &#39;U10&#39;), (&#39;age&#39;, &#39;i4&#39;), (&#39;weight&#39;, &#39;f4&#39;)])</code></td>
<td align="left">最常用且灵活的方式，直接指定字段名和数据类型。字段名若为空字符串 <code>&#39;&#39;</code>，会自动生成 <code>f0</code>, <code>f1</code>等默认名称。</td>
</tr>
<tr>
<td align="left"><strong>逗号分隔字符串</strong></td>
<td align="left"><code>dtype = np.dtype(&#39;i8, f4, S3&#39;)</code>或 <code>dtype = np.dtype(&#39;3int8, float32, (2,3)float64&#39;)</code></td>
<td align="left">写法简洁，适合快速定义。字段名默认为 <code>f0</code>, <code>f1</code>…。字符串中的数字可以定义数组形状，如<code>(2,3)float64</code>表示一个2x3的浮点数子数组。</td>
</tr>
<tr>
<td align="left"><strong>字段参数字典</strong></td>
<td align="left"><code>dtype = np.dtype(&#123;&#39;names&#39;: [&#39;col1&#39;, &#39;col2&#39;], &#39;formats&#39;: [&#39;i4&#39;, &#39;f4&#39;]&#125;)</code></td>
<td align="left">提供高级控制，可精确指定字节偏移量(<code>offsets</code>)、总字节大小(<code>itemsize</code>)等内存布局细节。</td>
</tr>
<tr>
<td align="left"><strong>字段名称字典</strong></td>
<td align="left"><code>dtype = np.dtype(&#123;&#39;col1&#39;: (&#39;i1&#39;, 0), &#39;col2&#39;: (&#39;f4&#39;, 1)&#125;)</code></td>
<td align="left"><strong>不推荐使用</strong>，因为在Python 3.6之前字典不保留字段顺序。</td>
</tr>
</tbody></table></div>
<p>我们来实例演示一下</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">dt = np.dtype([(<span class="string">&#x27;age&#x27;</span>,np.int8)])</span><br><span class="line">a = np.array([(<span class="number">10</span>,),(<span class="number">20</span>,),(<span class="number">30</span>,)],dtype=dt)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(a[<span class="string">&#x27;age&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">0</span>][<span class="string">&#x27;age&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#输出结果</span></span><br><span class="line">[(<span class="number">10</span>,) (<span class="number">20</span>,) (<span class="number">30</span>,)]</span><br><span class="line">[<span class="number">10</span> <span class="number">20</span> <span class="number">30</span>]</span><br><span class="line"><span class="number">10</span></span><br></pre></td></tr></table></div></figure>

<ul>
<li><code>[(&#39;age&#39;, np.int8)]</code>是一个列表，其中包含一个元组，这个元组定义了一个字段。</li>
<li><code>&#39;age&#39;</code>是字段的名称，以后可以通过这个名字来访问数组中的这一”列”数据</li>
<li><code>np.int8</code>指定了这个字段的数据类型是8位整数（范围从-128到127），非常节省内存</li>
</ul>
<p>(是不是觉得和<strong>c的结构体</strong>非常相似呢)</p>
<p>我们再来看一个例子，下面的示例定义一个结构化数据类型 student，包含<strong>字符串字段 name</strong>，<strong>整数字段 age</strong>，及<strong>浮点字段 marks</strong>，并将这个 dtype 应用到 ndarray 对象。</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">student = np.dtype([(<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;S20&#x27;</span>), (<span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;i1&#x27;</span>), (<span class="string">&#x27;marks&#x27;</span>, <span class="string">&#x27;f4&#x27;</span>)]) </span><br><span class="line">a = np.array([(<span class="string">&#x27;abc&#x27;</span>, <span class="number">21</span>, <span class="number">50</span>),(<span class="string">&#x27;xyz&#x27;</span>, <span class="number">18</span>, <span class="number">75</span>)], dtype = student) </span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="comment">#输出结果</span></span><br><span class="line">[(<span class="string">b&#x27;abc&#x27;</span>, <span class="number">21</span>, <span class="number">50.</span>) (<span class="string">b&#x27;xyz&#x27;</span>, <span class="number">18</span>, <span class="number">75.</span>)]</span><br></pre></td></tr></table></div></figure>

<p>可以看到abc的前面<strong>多了一个b</strong>，50的后面<strong>多了一个‘.’</strong>，这就是数据结构化的表现。</p>
<p>这个“.”我们可以理解，浮点数嘛，但是这个b怎么理解呢？</p>
<p>在Python 3中，<code>&#39;abc&#39;</code>这样的文本默认是Unicode<strong>字符串</strong>（<code>str</code>类型）。而<strong>字节串</strong>（<code>bytes</code>类型）用于表示原始的二进制数据或经过编码的文本（如UTF-8编码）。当NumPy使用 <code>&#39;S&#39;</code>类型（比如实例中的“s20”）时，它会将你提供的字符串转换为字节串进行存储。打印时，<strong>Python为了明确显示这是字节串而非普通字符串</strong>，就加上了 <code>b</code>前缀。附表供参考，依旧了解即可不需要背</p>
<div class="table-container"><table>
<thead>
<tr>
<th align="left">字符</th>
<th align="left">对应类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">b</td>
<td align="left">布尔型</td>
</tr>
<tr>
<td align="left">i</td>
<td align="left">(有符号) 整型</td>
</tr>
<tr>
<td align="left">u</td>
<td align="left">无符号整型 integer</td>
</tr>
<tr>
<td align="left">f</td>
<td align="left">浮点型</td>
</tr>
<tr>
<td align="left">c</td>
<td align="left">复数浮点型</td>
</tr>
<tr>
<td align="left">m</td>
<td align="left">timedelta（时间间隔）</td>
</tr>
<tr>
<td align="left">M</td>
<td align="left">datetime（日期时间）</td>
</tr>
<tr>
<td align="left">O</td>
<td align="left">(Python) 对象</td>
</tr>
<tr>
<td align="left">S, a</td>
<td align="left">(byte-)字符串</td>
</tr>
<tr>
<td align="left">U</td>
<td align="left">Unicode</td>
</tr>
<tr>
<td align="left">V</td>
<td align="left">原始数据 (void)</td>
</tr>
</tbody></table></div>

        <h2 id="np-arange"   >
          <a href="#np-arange" class="heading-link"><i class="fas fa-link"></i></a><a href="#np-arange" class="headerlink" title="np.arange"></a>np.arange</h2>
      <p><code>np.arange</code>是 NumPy 中用于创建等差数列数组的重要函数。(可以设置dtype，不做演示)</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a=np.arange(<span class="number">5</span>)</span><br><span class="line">b=np.arange(<span class="number">2</span>,<span class="number">7</span>)</span><br><span class="line">c=(<span class="number">2</span>,<span class="number">7</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出：[0 1 2 3 4]</span></span><br><span class="line"><span class="comment">#[2 3 4 5 6]</span></span><br><span class="line"><span class="comment">#[2 4 6]</span></span><br></pre></td></tr></table></div></figure>

<p>你只传入一个参数时，NumPy会将其视为 <code>stop</code>，序列从 <code>0</code>开始，以 <code>1</code>为步长增长，直到<strong>小于</strong>这个值。</p>
<p>传入两个参数时，则是start和stop，步长默认1</p>
<p>传入三个参数时，<strong>指定 <code>start</code>, <code>stop</code>和 <code>step</code></strong>：这是最灵活的方式，可以完全控制序列。</p>

        <h4 id="⚠️-重要注意事项与替代方案"   >
          <a href="#⚠️-重要注意事项与替代方案" class="heading-link"><i class="fas fa-link"></i></a><a href="#⚠️-重要注意事项与替代方案" class="headerlink" title="⚠️ 重要注意事项与替代方案"></a>⚠️ 重要注意事项与替代方案</h4>
      <ul>
<li><p>浮点精度问题：因为浮点数在计算机中表示不精确，使用浮点步长可能到不了预期的stop值。</p>
<p>这时候可以使用<code>np.linspace()</code>(尤其适用于绘图和数值计算,默认包含重点)</p>
</li>
</ul>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># 由于浮点精度影响，结果可能不如预期绝对精确</span></span><br><span class="line">a=np.arange(<span class="number">0</span>, <span class="number">0.4</span>, <span class="number">0.1</span>)</span><br><span class="line">b=np.linspace(<span class="number">0</span>, <span class="number">1</span>, <span class="number">5</span>) <span class="comment">#把1分成5段</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment">#输出结果</span></span><br><span class="line">[<span class="number">0.</span>  <span class="number">0.1</span> <span class="number">0.2</span> <span class="number">0.3</span>]</span><br><span class="line">[<span class="number">0.</span>   <span class="number">0.25</span> <span class="number">0.5</span>  <span class="number">0.75</span> <span class="number">1.</span>  ]</span><br></pre></td></tr></table></div></figure>

<ul>
<li>当 <code>step</code>为负数时，<code>start</code>应大于 <code>stop</code>，否则将得到空数组</li>
</ul>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a=np.arange(<span class="number">2</span>,<span class="number">7</span>,-<span class="number">1</span>)</span><br><span class="line">b=np.arange(<span class="number">7</span>,<span class="number">2</span>,-<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment">#输出结果</span></span><br><span class="line">[]</span><br><span class="line">[<span class="number">7</span> <span class="number">6</span> <span class="number">5</span> <span class="number">4</span> <span class="number">3</span>]</span><br></pre></td></tr></table></div></figure>

<ul>
<li>步长step不可为0，否则数组会无限长，抛出<code>ValueError</code>错误</li>
</ul>

        <h2 id="ndarray对象属性"   >
          <a href="#ndarray对象属性" class="heading-link"><i class="fas fa-link"></i></a><a href="#ndarray对象属性" class="headerlink" title="ndarray对象属性"></a>ndarray对象属性</h2>
      <ul>
<li>
        <h5 id="ndarray-ndim"   >
          <a href="#ndarray-ndim" class="heading-link"><i class="fas fa-link"></i></a><a href="#ndarray-ndim" class="headerlink" title="ndarray.ndim"></a>ndarray.ndim</h5>
      </li>
</ul>
<p>ndarray.ndim 用于获取<strong>数组的维度数量</strong>（即数组的轴数）。</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a=np.arange(<span class="number">5</span>)</span><br><span class="line"><span class="built_in">print</span>(a.ndim) <span class="comment">#输出为1，这时候只有一个维度数量</span></span><br><span class="line">b=np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line"><span class="built_in">print</span>(b.ndim)<span class="comment">#输出为2，有两个维度数量</span></span><br></pre></td></tr></table></div></figure>

<ul>
<li>
        <h5 id="ndarray-shape"   >
          <a href="#ndarray-shape" class="heading-link"><i class="fas fa-link"></i></a><a href="#ndarray-shape" class="headerlink" title="ndarray.shape"></a>ndarray.shape</h5>
      </li>
</ul>
<p>ndarray.shape 表示数组的维度，<strong>返回一个元组</strong>，这个元组的<strong>长度就是维度的数目</strong>，即 ndim 属性(秩)。比如，一个二维数组，其维度表示”行数”和”列数”。</p>
<p>ndarray.shape 也可以用于<strong>调整数组大小</strong>。</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np  </span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])  </span><br><span class="line"><span class="built_in">print</span> (a.shape)</span><br><span class="line"><span class="comment">#输出结果为（2，3）</span></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]]) </span><br><span class="line">a.shape =  (<span class="number">3</span>,<span class="number">2</span>)  <span class="comment">#把原本二行三列的数组改成三行二列</span></span><br><span class="line"><span class="built_in">print</span> (a)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">输出结果为</span></span><br><span class="line"><span class="string">[[1 2]</span></span><br><span class="line"><span class="string"> [3 4]</span></span><br><span class="line"><span class="string"> [5 6]]</span></span><br><span class="line"><span class="string"> &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment">#当然也可以使用reshape方法调整数组大小</span></span><br><span class="line">b = a.reshape(<span class="number">3</span>,<span class="number">2</span>) </span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">输出结果为</span></span><br><span class="line"><span class="string">[[1 2]</span></span><br><span class="line"><span class="string"> [3 4]</span></span><br><span class="line"><span class="string"> [5 6]]</span></span><br><span class="line"><span class="string"> &#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></div></figure>

<ul>
<li>
        <h5 id="ndarray-itemsize"   >
          <a href="#ndarray-itemsize" class="heading-link"><i class="fas fa-link"></i></a><a href="#ndarray-itemsize" class="headerlink" title="ndarray.itemsize"></a>ndarray.itemsize</h5>
      </li>
</ul>
<p><code>ndarray.itemsize</code> 以<strong>字节</strong>的形式<strong>返回数组中每一个元素的大小。</strong></p>
<p>例如，一个元素类型为 float64 的数组 itemsize 属性值为 8(float64 占用 64 个 bits，每个字节长度为 8，所以 64&#x2F;8，占用 8 个字节），又如，一个元素类型为 complex32 的数组 item 属性为 4（32&#x2F;8）。</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line"><span class="comment"># 数组的 dtype 为 int8（一个字节）  </span></span><br><span class="line">x = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>], dtype = np.int8)  </span><br><span class="line"><span class="built_in">print</span> (x.itemsize)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 数组的 dtype 现在为 float64（八个字节） </span></span><br><span class="line">y = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>], dtype = np.float64)  </span><br><span class="line"><span class="built_in">print</span> (y.itemsize)</span><br></pre></td></tr></table></div></figure>


        <h2 id="创建数组的其他方式"   >
          <a href="#创建数组的其他方式" class="heading-link"><i class="fas fa-link"></i></a><a href="#创建数组的其他方式" class="headerlink" title="创建数组的其他方式"></a>创建数组的其他方式</h2>
      <ol>
<li>
        <h5 id="numpy-empty"   >
          <a href="#numpy-empty" class="heading-link"><i class="fas fa-link"></i></a><a href="#numpy-empty" class="headerlink" title="numpy.empty"></a>numpy.empty</h5>
      </li>
</ol>
<p><code>numpy.empty</code> 方法用来创建一个指定形状（shape）、数据类型（dtype）且未初始化的数组：</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.empty(shape, dtype = <span class="built_in">float</span>, order = <span class="string">&#x27;C&#x27;</span>)</span><br></pre></td></tr></table></div></figure>

<p>参数说明：</p>
<div class="table-container"><table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">shape</td>
<td align="left">数组形状</td>
</tr>
<tr>
<td align="left">dtype</td>
<td align="left">数据类型，可选</td>
</tr>
<tr>
<td align="left">order</td>
<td align="left">有”C”和”F”两个选项,分别代表，行优先和列优先，在计算机内存中的存储元素的顺序。</td>
</tr>
</tbody></table></div>
<p>下面是一个创建空数组的实例：</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">x = np.empty([<span class="number">3</span>,<span class="number">2</span>], dtype = <span class="built_in">int</span>)</span><br><span class="line"><span class="built_in">print</span> (x)</span><br></pre></td></tr></table></div></figure>

<p>输出结果为：</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[ 6917529027641081856  5764616291768666155]</span><br><span class="line"> [ 6917529027641081859 -5764598754299804209]</span><br><span class="line"> [          4497473538      844429428932120]]</span><br></pre></td></tr></table></div></figure>

<p><strong>注意</strong> − 数组元素为随机值，因为它们未初始化。</p>
<ul>
<li><p><strong>“垃圾值”的来源</strong>：<code>np.empty</code>为了追求极致的速度，在分配数组内存后，<strong>并不会用零或其他特定值去覆盖这块内存区域</strong></p>
<p>。这意味着你看到的是这块内存之前被使用后留下的“残影”或任意数据。因此，每次运行程序，或者在不同的计算机上运行，得到的结果很可能都不一样</p>
<p>。</p>
</li>
<li><p><strong>为何有时显示为零</strong>：你可能会在某些情况下看到输出结果全是零。这<strong>并不代表数组被初始化了</strong>。这通常是因为操作系统在分配新内存页时，出于安全考虑会将其清零；或者NumPy恰好复用了一块之前已经被清零的内存区域</p>
<p>。这是一个巧合，并非函数保证的行为。</p>
</li>
<li><p><strong>性能与安全的权衡</strong>：<code>np.empty</code>的设计初衷就是<strong>高性能</strong></p>
<p>。在你需要创建一个大型数组，并计划立刻用你自己的数据完全填充它时（例如，通过一个计算过程），使用 <code>np.empty</code>可以节省掉初始化为零的开销。但你必须牢记，在手动填充之前，数组内的值是无效且不可依赖的</p>
<p>。</p>
</li>
</ul>

        <h5 id="2-numpy-zeros"   >
          <a href="#2-numpy-zeros" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-numpy-zeros" class="headerlink" title="2.numpy.zeros"></a>2.numpy.zeros</h5>
      <p>创建指定大小的数组，数组元素以 0 来填充：</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.zeros(shape, dtype = <span class="built_in">float</span>, order = <span class="string">&#x27;C&#x27;</span>)</span><br></pre></td></tr></table></div></figure>

<p>参数说明：</p>
<div class="table-container"><table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">shape</td>
<td align="left">数组形状</td>
</tr>
<tr>
<td align="left">dtype</td>
<td align="left">数据类型，可选</td>
</tr>
<tr>
<td align="left">order</td>
<td align="left">‘C’ 用于 C 的行数组，或者 ‘F’ 用于 FORTRAN 的列数组</td>
</tr>
</tbody></table></div>

        <h2 id="实例"   >
          <a href="#实例" class="heading-link"><i class="fas fa-link"></i></a><a href="#实例" class="headerlink" title="实例"></a>实例</h2>
      <figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np  </span><br><span class="line"><span class="comment"># 默认为浮点数</span></span><br><span class="line">x = np.zeros(<span class="number">5</span>)</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line"><span class="comment"># 设置类型为整数</span></span><br><span class="line">y = np.zeros((<span class="number">5</span>,), dtype = <span class="built_in">int</span>)</span><br><span class="line"><span class="built_in">print</span>(y)</span><br><span class="line"><span class="comment"># 自定义类型</span></span><br><span class="line">z = np.zeros((<span class="number">2</span>,<span class="number">2</span>), dtype = [(<span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;i4&#x27;</span>), (<span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;i4&#x27;</span>)])</span><br><span class="line"><span class="built_in">print</span>(z)</span><br></pre></td></tr></table></div></figure>

<p>输出结果为：</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line">[<span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>]</span><br><span class="line">[[(<span class="number">0</span>, <span class="number">0</span>) (<span class="number">0</span>, <span class="number">0</span>)]</span><br><span class="line"> [(<span class="number">0</span>, <span class="number">0</span>) (<span class="number">0</span>, <span class="number">0</span>)]]</span><br></pre></td></tr></table></div></figure>


        <h5 id="3-numpy-ones"   >
          <a href="#3-numpy-ones" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-numpy-ones" class="headerlink" title="3.numpy.ones"></a>3.numpy.ones</h5>
      <p>和上面一样，0换成1，不再赘述</p>

        <h5 id="4-numpy-zeros-like"   >
          <a href="#4-numpy-zeros-like" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-numpy-zeros-like" class="headerlink" title="4.numpy.zeros_like"></a>4.numpy.zeros_like</h5>
      <p>numpy.zeros_like 用于创建一个与给定数组具有相同形状的数组，数组元素以 0 来填充。</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 创建一个 3x3 的二维数组</span></span><br><span class="line">arr = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 创建一个与 arr 形状相同的，所有元素都为 0 的数组</span></span><br><span class="line">zeros_arr = np.zeros_like(arr)</span><br><span class="line"><span class="built_in">print</span>(zeros_arr)</span><br></pre></td></tr></table></div></figure>

<p>输出结果为</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[0 0 0]</span><br><span class="line"> [0 0 0]</span><br><span class="line"> [0 0 0]]</span><br></pre></td></tr></table></div></figure>


        <h5 id="5-numpy-ones-like"   >
          <a href="#5-numpy-ones-like" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-numpy-ones-like" class="headerlink" title="5.numpy.ones_like"></a>5.numpy.ones_like</h5>
      <p>numpy.zeros_like 用于创建一个与给定数组具有相同形状的数组，数组元素以 1 来填充。</p>

        <h2 id="4-切片和索引"   >
          <a href="#4-切片和索引" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-切片和索引" class="headerlink" title="4.切片和索引"></a>4.切片和索引</h2>
      <p>ndarray对象的内容可以通过<strong>索引或切片</strong>来<strong>访问和修改</strong>，与 Python 中 list 的切片操作一样。</p>
<p>ndarray 数组可以基于 0 - n 的下标进行索引，切片对象可以通过<strong>内置</strong>的 <strong>slice</strong> 函数，并设置 start, stop 及 step 参数进行，从原数组中切割出一个新数组。</p>

        <h5 id="slice切割（了解即可，不推荐）"   >
          <a href="#slice切割（了解即可，不推荐）" class="heading-link"><i class="fas fa-link"></i></a><a href="#slice切割（了解即可，不推荐）" class="headerlink" title="slice切割（了解即可，不推荐）"></a>slice切割（了解即可，不推荐）</h5>
      <figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a=np.arange(<span class="number">10</span>)</span><br><span class="line">s=<span class="built_in">slice</span>(<span class="number">2</span>,<span class="number">7</span>,<span class="number">2</span>) <span class="comment">#从索引2到索引7停止，步长为2</span></span><br><span class="line"><span class="built_in">print</span>(a[s])</span><br><span class="line"></span><br><span class="line"><span class="comment">#输出结果</span></span><br><span class="line"><span class="comment">#[2 4 6]</span></span><br></pre></td></tr></table></div></figure>


        <h5 id="冒号分隔切片-推荐，和前面学的list相通"   >
          <a href="#冒号分隔切片-推荐，和前面学的list相通" class="heading-link"><i class="fas fa-link"></i></a><a href="#冒号分隔切片-推荐，和前面学的list相通" class="headerlink" title="冒号分隔切片(推荐，和前面学的list相通)"></a>冒号分隔切片(推荐，和前面学的list相通)</h5>
      <figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a=np.arange(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">2</span>:<span class="number">7</span>:<span class="number">2</span>])<span class="comment">#输出结果[2 4 6]</span></span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">5</span>])<span class="comment">#输出结果[5]</span></span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">2</span>:])<span class="comment">#输出结果[2 3 4 5 6 7 8 9 10]</span></span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">2</span>:<span class="number">5</span>])<span class="comment">#输出结果[2 3 4]</span></span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p>上面我们演示的是单维数组，多维数组也是同理</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a=np.arange(<span class="number">10</span>).reshape(<span class="number">2</span>,<span class="number">5</span>)</span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">1</span>:])<span class="comment">#这里表示第一行之后的每一行</span></span><br><span class="line"><span class="comment">#输出结果</span></span><br><span class="line"><span class="comment">#[[5 6 7 8 9]]</span></span><br></pre></td></tr></table></div></figure>


        <h5 id="省略号切片"   >
          <a href="#省略号切片" class="heading-link"><i class="fas fa-link"></i></a><a href="#省略号切片" class="headerlink" title="省略号切片"></a>省略号切片</h5>
      <p>切片还可以包括省略号 <strong>…</strong>，来使选择元组的长度与数组的维度相同。 如果在行位置使用省略号，它将返回包含行中元素的 ndarray。</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])  </span><br><span class="line"><span class="built_in">print</span> (a[...,<span class="number">1</span>])   <span class="comment"># 第2列元素</span></span><br><span class="line"><span class="built_in">print</span> (a[<span class="number">1</span>,...])   <span class="comment"># 第2行元素</span></span><br><span class="line"><span class="built_in">print</span> (a[...,<span class="number">1</span>:])  <span class="comment"># 第2列及剩下的所有元素</span></span><br></pre></td></tr></table></div></figure>

<p>输出结果为</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[2 4 5]</span><br><span class="line">[3 4 5]</span><br><span class="line">[[2 3]</span><br><span class="line"> [4 5]</span><br><span class="line"> [5 6]]</span><br></pre></td></tr></table></div></figure>


        <h2 id="高级索引"   >
          <a href="#高级索引" class="heading-link"><i class="fas fa-link"></i></a><a href="#高级索引" class="headerlink" title="高级索引"></a>高级索引</h2>
      <p>NumPy 比一般的 Python 序列提供更多的索引方式。</p>
<p>除了之前看到的用整数和切片的索引外，数组可以由<strong>整数数组索引、布尔索引及花式索引。</strong></p>

        <h5 id="整数数组索引"   >
          <a href="#整数数组索引" class="heading-link"><i class="fas fa-link"></i></a><a href="#整数数组索引" class="headerlink" title="整数数组索引"></a>整数数组索引</h5>
      <p>整数数组索引是指使用一个数组来访问另一个数组的元素。这个数组中的每个元素都是目标数组中某个维度上的索引值。以下实例获取数组中 <strong>(0,0)，(1,1)</strong> 和 <strong>(2,0)</strong> 位置处的元素。</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">x = np.array([[<span class="number">1</span>,  <span class="number">2</span>],  [<span class="number">3</span>,  <span class="number">4</span>],  [<span class="number">5</span>,  <span class="number">6</span>]]) </span><br><span class="line">y = x[[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>],  [<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>]]  </span><br><span class="line"><span class="built_in">print</span> (y)</span><br></pre></td></tr></table></div></figure>

<p>输出结果为</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[1 4 5]</span><br></pre></td></tr></table></div></figure>

<p>整数数组索引还可以和<strong>切片：或……结合</strong></p>
<p>已知我们如果想获得坐标（1，2）的元素可以这么写</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a=np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]])</span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">1</span>,<span class="number">2</span>])</span><br></pre></td></tr></table></div></figure>

<p>同样我们可以把逗号分隔的两个参数用切片改一下</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a=np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]])</span><br><span class="line">b=a[<span class="number">1</span>:<span class="number">3</span>,<span class="number">1</span>:<span class="number">3</span>]<span class="comment">#a[1:3,[1,2]]效果一样</span></span><br><span class="line"><span class="built_in">print</span>(b)</span><br></pre></td></tr></table></div></figure>

<p>这样输出的就是一到二行的一到二列</p>

        <h5 id="布尔索引"   >
          <a href="#布尔索引" class="heading-link"><i class="fas fa-link"></i></a><a href="#布尔索引" class="headerlink" title="布尔索引"></a>布尔索引</h5>
      <p>还可以通过布尔索引来进行筛选，布尔索引通过布尔运算（如：比较运算符）来获取符合指定条件的元素的数组。</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">x = np.array([[  <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>],[  <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>],[  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>],[  <span class="number">9</span>,  <span class="number">10</span>,  <span class="number">11</span>]])  </span><br><span class="line"><span class="built_in">print</span> (<span class="string">&#x27;我们的数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (x)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="comment"># 现在我们会打印出大于 5 的元素  </span></span><br><span class="line"><span class="built_in">print</span>  (<span class="string">&#x27;大于 5 的元素是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (x[x &gt;  <span class="number">5</span>])</span><br></pre></td></tr></table></div></figure>

<p>输出结果为：</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">我们的数组是：</span><br><span class="line">[[ 0  1  2]</span><br><span class="line"> [ 3  4  5]</span><br><span class="line"> [ 6  7  8]</span><br><span class="line"> [ 9 10 11]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">大于 5 的元素是：</span><br><span class="line">[ 6  7  8  9 10 11]</span><br></pre></td></tr></table></div></figure>

<p>还可以使用<code>~</code>（取补运算符）来过滤</p>
<p>以下实例使用了 <strong>~</strong>（取补运算符）来过滤 NaN。</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([np.nan,  <span class="number">1</span>,<span class="number">2</span>,np.nan,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line"><span class="built_in">print</span> (a[~np.isnan(a)])</span><br></pre></td></tr></table></div></figure>

<p>输出结果为：</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ 1.   2.   3.   4.   5.]</span><br></pre></td></tr></table></div></figure>

<p>以下实例演示如何从数组中过滤掉非复数元素。</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([<span class="number">1</span>,  <span class="number">2</span>+<span class="number">6j</span>,  <span class="number">5</span>,  <span class="number">3.5</span>+<span class="number">5j</span>])</span><br><span class="line"><span class="built_in">print</span> (a[np.iscomplex(a)])</span><br></pre></td></tr></table></div></figure>

<p>输出如下：</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[2.0+6.j  3.5+5.j]</span><br></pre></td></tr></table></div></figure>


        <h5 id="花式索引"   >
          <a href="#花式索引" class="heading-link"><i class="fas fa-link"></i></a><a href="#花式索引" class="headerlink" title="花式索引"></a>花式索引</h5>
      <p>花式索引根据索引数组的值作为目标数组的某个轴的下标进行索引</p>
<p>对于使用一维整型数组作为索引，如果目标是一维数组，那么索引的结果就是对应位置的元素，如果目标是二维数组，那么就是对应<strong>下标的行</strong>。</p>
<p>花式索引跟切片不一样，<strong>它总是将数据复制到新数组中</strong>。</p>
<p>对于一维数组</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x=np.arange(<span class="number">9</span>)</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line">x1=x[[<span class="number">0</span>,<span class="number">6</span>]]<span class="comment">#花式索引</span></span><br><span class="line"><span class="built_in">print</span>(x2)</span><br></pre></td></tr></table></div></figure>




        <h2 id="NumPy-广播-Broadcast"   >
          <a href="#NumPy-广播-Broadcast" class="heading-link"><i class="fas fa-link"></i></a><a href="#NumPy-广播-Broadcast" class="headerlink" title="NumPy 广播(Broadcast)"></a>NumPy 广播(Broadcast)</h2>
      <p>广播(Broadcast)是 numpy 对不同形状(shape)的数组进行数值计算的方式， 对数组的算术运算通常在相应的元素上进行。</p>
<p>如果两个数组 a 和 b 形状相同，即满足 <strong>a.shape &#x3D;&#x3D; b.shape</strong>，那么 a*b 的结果就是 a 与 b 数组对应位相乘。这要求维数相同，且各维度的长度相同。</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]) </span><br><span class="line">b = np.array([<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>]) </span><br><span class="line">c = a * b </span><br><span class="line"><span class="built_in">print</span> (c)</span><br><span class="line"><span class="comment">#[ 10  40  90 160]</span></span><br></pre></td></tr></table></div></figure>

<p>当运算中的 2 个数组的形状不同时，numpy 将自动触发广播机制。如：</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.array([[ <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">           [<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>],</span><br><span class="line">           [<span class="number">20</span>,<span class="number">20</span>,<span class="number">20</span>],</span><br><span class="line">           [<span class="number">30</span>,<span class="number">30</span>,<span class="number">30</span>]])</span><br><span class="line">b = np.array([<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>])</span><br><span class="line"><span class="built_in">print</span>(a + b)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;[[ 0  1  2]</span></span><br><span class="line"><span class="string"> [10 11 12]</span></span><br><span class="line"><span class="string"> [20 21 22]</span></span><br><span class="line"><span class="string"> [30 31 32]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></div></figure>


        <h2 id="NumPy迭代数组"   >
          <a href="#NumPy迭代数组" class="heading-link"><i class="fas fa-link"></i></a><a href="#NumPy迭代数组" class="headerlink" title="NumPy迭代数组"></a>NumPy迭代数组</h2>
      
        <h4 id="1-nditer的迭代顺序"   >
          <a href="#1-nditer的迭代顺序" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-nditer的迭代顺序" class="headerlink" title="1.nditer的迭代顺序"></a>1.nditer的迭代顺序</h4>
      <p>NumPy 迭代器对象 numpy.nditer 提供了一种<strong>灵活访问一个</strong>或者<strong>多个数组元素</strong>的方式。</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">6</span>).reshape(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&#x27;原始数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (a)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&#x27;迭代输出元素：&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a):</span><br><span class="line">    <span class="built_in">print</span> (x, end=<span class="string">&quot;, &quot;</span> )</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&#x27;\n&#x27;</span>)</span><br></pre></td></tr></table></div></figure>

<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">原始数组是：</span><br><span class="line">[[0 1 2]</span><br><span class="line"> [3 4 5]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">迭代输出元素：</span><br><span class="line">0, 1, 2, 3, 4, 5,</span><br></pre></td></tr></table></div></figure>

<p>以上实例不是使用标准 C 或者 Fortran 顺序，默认是行序优先</p>
<p>这反映了默认情况下只需访问每个元素，而无需考虑其特定顺序。我们可以通过迭代上述数组的转置来看到这一点，并与以 C 顺序访问数组转置的 copy 方式做对比，如下实例：</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">6</span>).reshape(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a.T):</span><br><span class="line">    <span class="built_in">print</span> (x, end=<span class="string">&quot;, &quot;</span> )</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a.T.copy(order=<span class="string">&#x27;C&#x27;</span>)):</span><br><span class="line">    <span class="built_in">print</span> (x, end=<span class="string">&quot;, &quot;</span> )</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&#x27;\n&#x27;</span>)</span><br></pre></td></tr></table></div></figure>

<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0, 1, 2, 3, 4, 5, </span><br><span class="line"></span><br><span class="line">0, 3, 1, 4, 2, 5, </span><br></pre></td></tr></table></div></figure>


        <h5 id="第一个循环：np-nditer-a-T"   >
          <a href="#第一个循环：np-nditer-a-T" class="heading-link"><i class="fas fa-link"></i></a><a href="#第一个循环：np-nditer-a-T" class="headerlink" title="第一个循环：np.nditer(a.T)"></a>第一个循环：<code>np.nditer(a.T)</code></h5>
      <p>默认情况下，<code>nditer</code>会按照数组在内存中的存储顺序进行迭代。NumPy数组默认以行优先(‘C’风格)顺序存储。</p>
<p><strong>关键点</strong>：<code>a.T</code>是转置视图(view)，不是副本(copy)，它保持了原始数组的内存布局。虽然逻辑上是3x2，但物理存储仍然是原始2x3数组的顺序。</p>
<p>因此，迭代<code>a.T</code>时实际是按照原始数组的内存顺序访问元素</p>

        <h5 id="第二个循环：np-nditer-a-T-copy-order-C"   >
          <a href="#第二个循环：np-nditer-a-T-copy-order-C" class="heading-link"><i class="fas fa-link"></i></a><a href="#第二个循环：np-nditer-a-T-copy-order-C" class="headerlink" title="第二个循环：np.nditer(a.T.copy(order=&#39;C&#39;))"></a>第二个循环：<code>np.nditer(a.T.copy(order=&#39;C&#39;))</code></h5>
      <p>这里显式创建了一个C顺序的副本。<code>order=&#39;C&#39;</code>指定了行优先存储。</p>
<p>副本会按照转置后的逻辑形状(3x2)和指定的C顺序重新排列内存中的元素，所以迭代顺序就是转置后的行优先顺序：</p>

        <h4 id="2-nditer的flags参数"   >
          <a href="#2-nditer的flags参数" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-nditer的flags参数" class="headerlink" title="2.nditer的flags参数"></a>2.nditer的flags参数</h4>
      <p>nditer 类的构造器拥有 flags 参数，它可以接受下列值：</p>
<div class="table-container"><table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>c_index</code></td>
<td align="left">可以跟踪 C 顺序的索引</td>
</tr>
<tr>
<td align="left"><code>f_index</code></td>
<td align="left">可以跟踪 Fortran 顺序的索引</td>
</tr>
<tr>
<td align="left"><code>multi_index</code></td>
<td align="left">每次迭代可以跟踪一种索引类型</td>
</tr>
<tr>
<td align="left"><code>external_loop</code></td>
<td align="left">给出的值是具有多个值的一维数组，而不是零维数组</td>
</tr>
</tbody></table></div>
<p>在下面的实例中，迭代器遍历对应于每列，并组合为一维数组。</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line">a = np.arange(<span class="number">0</span>,<span class="number">60</span>,<span class="number">5</span>) </span><br><span class="line">a = a.reshape(<span class="number">3</span>,<span class="number">4</span>)  </span><br><span class="line"><span class="built_in">print</span> (<span class="string">&#x27;原始数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (a)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&#x27;修改后的数组是：&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a, flags =  [<span class="string">&#x27;external_loop&#x27;</span>], order =  <span class="string">&#x27;F&#x27;</span>):  </span><br><span class="line">   <span class="built_in">print</span> (x, end=<span class="string">&quot;, &quot;</span> )</span><br></pre></td></tr></table></div></figure>

<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">原始数组是：</span><br><span class="line">[[ 0  5 10 15]</span><br><span class="line"> [20 25 30 35]</span><br><span class="line"> [40 45 50 55]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">修改后的数组是：</span><br><span class="line">[ 0 20 40], [ 5 25 45], [10 30 50], [15 35 55],</span><br></pre></td></tr></table></div></figure>


        <h4 id="3-nditer修改数组中元素的值"   >
          <a href="#3-nditer修改数组中元素的值" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-nditer修改数组中元素的值" class="headerlink" title="3.nditer修改数组中元素的值"></a>3.nditer修改数组中元素的值</h4>
      <p>nditer 对象有另一个可选参数 <strong>op_flags</strong>。 默认情况下，nditer 将视待迭代遍历的数组为<strong>只读对象（read-only）</strong>，为了在遍历数组的同时，实现对数组元素值的修改，<strong>必须指定 readwrite 或者 writeonly 的模式。</strong></p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a=np.arange(<span class="number">0</span>,<span class="number">60</span>,<span class="number">5</span>)</span><br><span class="line">a=a.reshape(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;原始数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> np.nditer(a,op_flags=[<span class="string">&#x27;readwrite&#x27;</span>]):</span><br><span class="line">	x[...]=<span class="number">2</span>*x</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;修改后的数组是：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br></pre></td></tr></table></div></figure>

<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">原始数组是：</span><br><span class="line">[[ 0  5 10 15]</span><br><span class="line"> [20 25 30 35]</span><br><span class="line"> [40 45 50 55]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">修改后的数组是：</span><br><span class="line">[[  0  10  20  30]</span><br><span class="line"> [ 40  50  60  70]</span><br><span class="line"> [ 80  90 100 110]]</span><br></pre></td></tr></table></div></figure>


        <h4 id="4-广播迭代"   >
          <a href="#4-广播迭代" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-广播迭代" class="headerlink" title="4.广播迭代"></a>4.广播迭代</h4>
      <p>如果两个数组是可广播的，nditer 组合对象能够同时迭代它们。 假设数组 a 的维度为 3X4，数组 b 的维度为 1X4 ，则使用以下迭代器</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"> </span><br><span class="line">a = np.arange(<span class="number">0</span>,<span class="number">60</span>,<span class="number">5</span>) </span><br><span class="line">a = a.reshape(<span class="number">3</span>,<span class="number">4</span>)  </span><br><span class="line"><span class="built_in">print</span>  (<span class="string">&#x27;第一个数组为：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (a)</span><br><span class="line"><span class="built_in">print</span>  (<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&#x27;第二个数组为：&#x27;</span>)</span><br><span class="line">b = np.array([<span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>], dtype =  <span class="built_in">int</span>)  </span><br><span class="line"><span class="built_in">print</span> (b)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&#x27;修改后的数组为：&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> x,y <span class="keyword">in</span> np.nditer([a,b]):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;%d:%d&quot;</span> % (x,y),end=<span class="string">&quot;,&quot;</span>)</span><br></pre></td></tr></table></div></figure>

<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">第一个数组为：</span><br><span class="line">[[ 0  5 10 15]</span><br><span class="line"> [20 25 30 35]</span><br><span class="line"> [40 45 50 55]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">第二个数组为：</span><br><span class="line">[1 2 3 4]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">修改后的数组为：</span><br><span class="line">0:1, 5:2, 10:3, 15:4, 20:1, 25:2, 30:3, 35:4, 40:1, 45:2, 50:3, 55:4,</span><br></pre></td></tr></table></div></figure>




        <h2 id="NumPy-数组操作常用知识点"   >
          <a href="#NumPy-数组操作常用知识点" class="heading-link"><i class="fas fa-link"></i></a><a href="#NumPy-数组操作常用知识点" class="headerlink" title="NumPy 数组操作常用知识点"></a>NumPy 数组操作常用知识点</h2>
      
        <h3 id="1-修改数组形状"   >
          <a href="#1-修改数组形状" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-修改数组形状" class="headerlink" title="1. 修改数组形状"></a>1. 修改数组形状</h3>
      
        <h4 id="1-1-reshape"   >
          <a href="#1-1-reshape" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-1-reshape" class="headerlink" title="1.1 reshape"></a>1.1 reshape</h4>
      <p>在不改变数据的情况下修改数组形状</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.arange(<span class="number">8</span>)</span><br><span class="line">b = a.reshape(<span class="number">4</span>,<span class="number">2</span>)  <span class="comment"># 将一维数组变为4行2列</span></span><br></pre></td></tr></table></div></figure>


        <h4 id="1-2-flatten-和-ravel"   >
          <a href="#1-2-flatten-和-ravel" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-2-flatten-和-ravel" class="headerlink" title="1.2 flatten 和 ravel"></a>1.2 flatten 和 ravel</h4>
      <ul>
<li><strong>flatten</strong>：返回数组的拷贝，修改不影响原始数组</li>
<li><strong>ravel</strong>：返回数组视图，修改会影响原始数组</li>
</ul>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">8</span>).reshape(<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(a.flatten())     <span class="comment"># 按行展开：[0 1 2 3 4 5 6 7]</span></span><br><span class="line"><span class="built_in">print</span>(a.ravel())       <span class="comment"># 按行展开：[0 1 2 3 4 5 6 7]</span></span><br><span class="line"><span class="built_in">print</span>(a.flatten(order=<span class="string">&#x27;F&#x27;</span>))  <span class="comment"># 按列展开：[0 4 1 5 2 6 3 7]</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="2-翻转数组"   >
          <a href="#2-翻转数组" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-翻转数组" class="headerlink" title="2. 翻转数组"></a>2. 翻转数组</h3>
      
        <h4 id="2-1-transpose-和-T"   >
          <a href="#2-1-transpose-和-T" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-1-transpose-和-T" class="headerlink" title="2.1 transpose 和 T"></a>2.1 transpose 和 T</h4>
      <p>转置数组（行列互换）</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(np.transpose(a))  <span class="comment"># 转置</span></span><br><span class="line"><span class="built_in">print</span>(a.T)             <span class="comment"># 等价写法</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="3-修改数组维度"   >
          <a href="#3-修改数组维度" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-修改数组维度" class="headerlink" title="3. 修改数组维度"></a>3. 修改数组维度</h3>
      
        <h4 id="3-1-expand-dims"   >
          <a href="#3-1-expand-dims" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-1-expand-dims" class="headerlink" title="3.1 expand_dims"></a>3.1 expand_dims</h4>
      <p>扩展数组形状，在指定位置插入新轴</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line">y = np.expand_dims(x, axis=<span class="number">0</span>)  <span class="comment"># 在位置0插入轴，形状变为(1,2,2)</span></span><br></pre></td></tr></table></div></figure>


        <h4 id="3-2-squeeze"   >
          <a href="#3-2-squeeze" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-2-squeeze" class="headerlink" title="3.2 squeeze"></a>3.2 squeeze</h4>
      <p>从数组形状中删除一维条目</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.arange(<span class="number">9</span>).reshape(<span class="number">1</span>,<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line">y = np.squeeze(x)  <span class="comment"># 形状从(1,3,3)变为(3,3)</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="4-连接数组"   >
          <a href="#4-连接数组" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-连接数组" class="headerlink" title="4. 连接数组"></a>4. 连接数组</h3>
      
        <h4 id="4-1-concatenate"   >
          <a href="#4-1-concatenate" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-1-concatenate" class="headerlink" title="4.1 concatenate"></a>4.1 concatenate</h4>
      <p><strong>沿指定轴连接数组</strong></p>
<p>注意：垂直堆叠要求垂直方向两个数组有对应的数字，若如下图则报错</p>
<p><img src="/../images/image-20251012141510642.png" alt="image-20251012141510642"></p>
<p><img src="/../images/image-20251012141615418.png" alt="image-20251012141615418"></p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line">b = np.array([[<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 沿轴0连接（垂直堆叠）</span></span><br><span class="line"><span class="built_in">print</span>(np.concatenate((a,b)))        <span class="comment"># [[1 2] [3 4] [5 6] [7 8]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 沿轴1连接（水平堆叠）</span></span><br><span class="line"><span class="built_in">print</span>(np.concatenate((a,b),axis=<span class="number">1</span>)) <span class="comment"># [[1 2 5 6] [3 4 7 8]]</span></span><br></pre></td></tr></table></div></figure>


        <h4 id="4-2-stack"   >
          <a href="#4-2-stack" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-2-stack" class="headerlink" title="4.2 stack"></a>4.2 stack</h4>
      <p>沿新轴连接数组序列</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(np.stack((a,b),<span class="number">0</span>))  <span class="comment"># 沿新轴0堆叠</span></span><br><span class="line"><span class="built_in">print</span>(np.stack((a,b),<span class="number">1</span>))  <span class="comment"># 沿新轴1堆叠</span></span><br></pre></td></tr></table></div></figure>


        <h4 id="4-3-hstack-和-vstack"   >
          <a href="#4-3-hstack-和-vstack" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-3-hstack-和-vstack" class="headerlink" title="4.3 hstack 和 vstack"></a>4.3 hstack 和 vstack</h4>
      <ul>
<li><strong>hstack</strong>：水平堆叠（按列）</li>
<li><strong>vstack</strong>：垂直堆叠（按行）</li>
</ul>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(np.hstack((a,b)))  <span class="comment"># 水平堆叠</span></span><br><span class="line"><span class="built_in">print</span>(np.vstack((a,b)))  <span class="comment"># 垂直堆叠</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="5-分割数组"   >
          <a href="#5-分割数组" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-分割数组" class="headerlink" title="5. 分割数组"></a>5. 分割数组</h3>
      
        <h4 id="5-1-split"   >
          <a href="#5-1-split" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-1-split" class="headerlink" title="5.1 split"></a>5.1 split</h4>
      <p>将数组分割为多个子数组</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">9</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 平均分成3份</span></span><br><span class="line"><span class="built_in">print</span>(np.split(a,<span class="number">3</span>))  <span class="comment"># [array([0,1,2]), array([3,4,5]), array([6,7,8])]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在指定位置分割</span></span><br><span class="line"><span class="built_in">print</span>(np.split(a,[<span class="number">4</span>,<span class="number">7</span>]))  <span class="comment"># [array([0,1,2,3]), array([4,5,6]), array([7,8])]</span></span><br></pre></td></tr></table></div></figure>


        <h4 id="5-2-hsplit-和-vsplit"   >
          <a href="#5-2-hsplit-和-vsplit" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-2-hsplit-和-vsplit" class="headerlink" title="5.2 hsplit 和 vsplit"></a>5.2 hsplit 和 vsplit</h4>
      <ul>
<li><strong>hsplit</strong>：水平分割（按列）</li>
<li><strong>vsplit</strong>：垂直分割（按行）</li>
</ul>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">16</span>).reshape(<span class="number">4</span>,<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(np.hsplit(a,<span class="number">2</span>))  <span class="comment"># 水平分成2份</span></span><br><span class="line"><span class="built_in">print</span>(np.vsplit(a,<span class="number">2</span>))  <span class="comment"># 垂直分成2份</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="6-数组元素的添加与删除"   >
          <a href="#6-数组元素的添加与删除" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-数组元素的添加与删除" class="headerlink" title="6. 数组元素的添加与删除"></a>6. 数组元素的添加与删除</h3>
      
        <h4 id="6-1-append"   >
          <a href="#6-1-append" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-1-append" class="headerlink" title="6.1 append"></a>6.1 append</h4>
      <p>在数组末尾添加值</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(np.append(a, [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]))              <span class="comment"># 展开后添加：[1 2 3 4 5 6 7 8 9]</span></span><br><span class="line"><span class="built_in">print</span>(np.append(a, [[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]], axis=<span class="number">0</span>))    <span class="comment"># 沿轴0添加</span></span><br><span class="line"><span class="built_in">print</span>(np.append(a, [[<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]], axis=<span class="number">1</span>))  <span class="comment"># 沿轴1添加</span></span><br></pre></td></tr></table></div></figure>


        <h4 id="6-2-insert"   >
          <a href="#6-2-insert" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-2-insert" class="headerlink" title="6.2 insert"></a>6.2 insert</h4>
      <p>在指定位置插入值</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>],[<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(np.insert(a, <span class="number">3</span>, [<span class="number">11</span>,<span class="number">12</span>]))           <span class="comment"># 展开后插入</span></span><br><span class="line"><span class="built_in">print</span>(np.insert(a, <span class="number">1</span>, <span class="number">11</span>, axis=<span class="number">1</span>))        <span class="comment"># 沿轴1插入</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[ 1  2  3 11 12  4  5  6]</span></span><br><span class="line"><span class="string">[[ 1 11  2]</span></span><br><span class="line"><span class="string"> [ 3 11  4]</span></span><br><span class="line"><span class="string"> [ 5 11  6]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></div></figure>


        <h4 id="6-3-delete"   >
          <a href="#6-3-delete" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-3-delete" class="headerlink" title="6.3 delete"></a>6.3 delete</h4>
      <p>删除指定子数组</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(np.delete(a, <span class="number">5</span>))                    <span class="comment"># 展开后删除第5个元素</span></span><br><span class="line"><span class="built_in">print</span>(np.delete(a, <span class="number">1</span>, axis=<span class="number">1</span>))            <span class="comment"># 删除第1列</span></span><br></pre></td></tr></table></div></figure>


        <h4 id="6-4-unique"   >
          <a href="#6-4-unique" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-4-unique" class="headerlink" title="6.4 unique"></a>6.4 unique</h4>
      <p>去除数组中的重复元素</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">5</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">9</span>])</span><br><span class="line">u = np.unique(a)  <span class="comment"># [2 5 6 7 8 9]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 返回元素出现次数</span></span><br><span class="line">u, indices = np.unique(a, return_counts=<span class="literal">True</span>)</span><br></pre></td></tr></table></div></figure>




        <h2 id="NumPy-排序与条件筛选常用函数"   >
          <a href="#NumPy-排序与条件筛选常用函数" class="heading-link"><i class="fas fa-link"></i></a><a href="#NumPy-排序与条件筛选常用函数" class="headerlink" title="NumPy 排序与条件筛选常用函数"></a>NumPy 排序与条件筛选常用函数</h2>
      
        <h3 id="1-排序函数"   >
          <a href="#1-排序函数" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-排序函数" class="headerlink" title="1. 排序函数"></a>1. 排序函数</h3>
      
        <h4 id="1-1-numpy-sort"   >
          <a href="#1-1-numpy-sort" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-1-numpy-sort" class="headerlink" title="1.1 numpy.sort()"></a>1.1 numpy.sort()</h4>
      <p>返回输入数组的排序副本</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 基本排序</span></span><br><span class="line">arr = np.array([[<span class="number">3</span>, <span class="number">7</span>], [<span class="number">9</span>, <span class="number">1</span>]])</span><br><span class="line"><span class="built_in">print</span>(np.sort(arr))           <span class="comment"># 默认按行排序</span></span><br><span class="line"><span class="built_in">print</span>(np.sort(arr, axis=<span class="number">0</span>))   <span class="comment"># 按列排序</span></span><br></pre></td></tr></table></div></figure>


        <h4 id="1-2-numpy-argsort"   >
          <a href="#1-2-numpy-argsort" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-2-numpy-argsort" class="headerlink" title="1.2 numpy.argsort()"></a>1.2 numpy.argsort()</h4>
      <p>返回数组值从小到大的索引值</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([<span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line">indices = np.argsort(x)      <span class="comment"># 返回 [1, 2, 0]</span></span><br><span class="line">sorted_x = x[indices]        <span class="comment"># 通过索引获取排序结果 [1, 2, 3]</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="2-最值索引函数"   >
          <a href="#2-最值索引函数" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-最值索引函数" class="headerlink" title="2. 最值索引函数"></a>2. 最值索引函数</h3>
      
        <h4 id="2-1-numpy-argmax-和-numpy-argmin"   >
          <a href="#2-1-numpy-argmax-和-numpy-argmin" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-1-numpy-argmax-和-numpy-argmin" class="headerlink" title="2.1 numpy.argmax() 和 numpy.argmin()"></a>2.1 numpy.argmax() 和 numpy.argmin()</h4>
      <p>返回最大&#x2F;最小元素的索引</p>
<figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([[<span class="number">30</span>, <span class="number">40</span>, <span class="number">70</span>], </span><br><span class="line">                [<span class="number">80</span>, <span class="number">20</span>, <span class="number">10</span>], </span><br><span class="line">                [<span class="number">50</span>, <span class="number">90</span>, <span class="number">60</span>]])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(np.argmax(arr))        <span class="comment"># 全局最大值的索引：7</span></span><br><span class="line"><span class="built_in">print</span>(np.argmax(arr, axis=<span class="number">0</span>)) <span class="comment"># 每列最大值的索引：[1, 2, 0]</span></span><br><span class="line"><span class="built_in">print</span>(np.argmin(arr, axis=<span class="number">1</span>)) <span class="comment"># 每行最小值的索引：[0, 2, 0]</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="3-条件筛选函数"   >
          <a href="#3-条件筛选函数" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-条件筛选函数" class="headerlink" title="3. 条件筛选函数"></a>3. 条件筛选函数</h3>
      
        <h4 id="3-1-numpy-where"   >
          <a href="#3-1-numpy-where" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-1-numpy-where" class="headerlink" title="3.1 numpy.where()"></a>3.1 numpy.where()</h4>
      <p>返回满足条件的元素索引</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># 创建示例数组</span><br><span class="line">arr = np.array([[1, 2, 3], </span><br><span class="line">                [4, 5, 6], </span><br><span class="line">                [7, 8, 9]])</span><br><span class="line"></span><br><span class="line"># 找出大于5的元素</span><br><span class="line">indices = np.where(arr &gt; 5)</span><br><span class="line">print(indices)  # 输出满足条件的行列索引</span><br><span class="line">print(arr[indices])  # 输出满足条件的元素 [6, 7, 8, 9]</span><br><span class="line"></span><br><span class="line"># 条件替换：将大于5的元素替换为0</span><br><span class="line">result = np.where(arr &gt; 5, 0, arr)</span><br><span class="line">print(result)</span><br></pre></td></tr></table></div></figure>


        <h4 id="3-2-numpy-nonzero"   >
          <a href="#3-2-numpy-nonzero" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-2-numpy-nonzero" class="headerlink" title="3.2 numpy.nonzero()"></a>3.2 numpy.nonzero()</h4>
      <p>返回非零元素的索引</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([[0, 1, 0], </span><br><span class="line">                [2, 0, 3], </span><br><span class="line">                [0, 4, 0]])</span><br><span class="line"></span><br><span class="line">nonzero_indices = np.nonzero(arr)</span><br><span class="line">print(nonzero_indices)  # 非零元素的位置</span><br><span class="line">print(arr[nonzero_indices])  # 非零元素的值 [1, 2, 3, 4]</span><br></pre></td></tr></table></div></figure>


        <h4 id="3-3-numpy-extract"   >
          <a href="#3-3-numpy-extract" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-3-numpy-extract" class="headerlink" title="3.3 numpy.extract()"></a>3.3 numpy.extract()</h4>
      <p>根据条件从数组中抽取元素</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9])</span><br><span class="line"></span><br><span class="line"># 提取偶数</span><br><span class="line">even_numbers = np.extract(arr % 2 == 0, arr)</span><br><span class="line">print(even_numbers)  # 输出 [2, 4, 6, 8]</span><br></pre></td></tr></table></div></figure>


        <h3 id="4-实用排序技巧"   >
          <a href="#4-实用排序技巧" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-实用排序技巧" class="headerlink" title="4. 实用排序技巧"></a>4. 实用排序技巧</h3>
      
        <h4 id="4-1-按指定字段排序（结构化数组）"   >
          <a href="#4-1-按指定字段排序（结构化数组）" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-1-按指定字段排序（结构化数组）" class="headerlink" title="4.1 按指定字段排序（结构化数组）"></a>4.1 按指定字段排序（结构化数组）</h4>
      <figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 创建结构化数组</span><br><span class="line">dtype = [(&#x27;name&#x27;, &#x27;U10&#x27;), (&#x27;age&#x27;, int), (&#x27;score&#x27;, float)]</span><br><span class="line">students = np.array([(&#x27;Alice&#x27;, 20, 88.5), </span><br><span class="line">                     (&#x27;Bob&#x27;, 19, 92.0), </span><br><span class="line">                     (&#x27;Charlie&#x27;, 21, 85.5)], dtype=dtype)</span><br><span class="line"></span><br><span class="line"># 按年龄排序</span><br><span class="line">sorted_by_age = np.sort(students, order=&#x27;age&#x27;)</span><br><span class="line">print(sorted_by_age)</span><br></pre></td></tr></table></div></figure>


        <h4 id="4-2-分区排序-numpy-partition"   >
          <a href="#4-2-分区排序-numpy-partition" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-2-分区排序-numpy-partition" class="headerlink" title="4.2 分区排序 numpy.partition()"></a>4.2 分区排序 numpy.partition()</h4>
      <p>快速找到前k个最小&#x2F;最大值</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([46, 57, 23, 39, 1, 10, 0, 120])</span><br><span class="line"></span><br><span class="line"># 找到第3小的值</span><br><span class="line">partitioned = np.partition(arr, 2)</span><br><span class="line">print(partitioned[2])  # 第3小的值：10</span><br><span class="line"></span><br><span class="line"># 找到第2大的值</span><br><span class="line">partitioned = np.partition(arr, -2)</span><br><span class="line">print(partitioned[-2])  # 第2大的值：57</span><br></pre></td></tr></table></div></figure>


        <h3 id="5-实际应用示例"   >
          <a href="#5-实际应用示例" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-实际应用示例" class="headerlink" title="5. 实际应用示例"></a>5. 实际应用示例</h3>
      
        <h4 id="5-1-数据清洗：处理异常值"   >
          <a href="#5-1-数据清洗：处理异常值" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-1-数据清洗：处理异常值" class="headerlink" title="5.1 数据清洗：处理异常值"></a>5.1 数据清洗：处理异常值</h4>
      <figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># 生成包含异常值的测试数据</span><br><span class="line">data = np.array([1, 2, 3, 100, 4, 5, 200, 6, 7])</span><br><span class="line"></span><br><span class="line"># 使用分位数识别异常值</span><br><span class="line">Q1 = np.percentile(data, 25)</span><br><span class="line">Q3 = np.percentile(data, 75)</span><br><span class="line">IQR = Q3 - Q1</span><br><span class="line"></span><br><span class="line">lower_bound = Q1 - 1.5 * IQR</span><br><span class="line">upper_bound = Q3 + 1.5 * IQR</span><br><span class="line"></span><br><span class="line"># 筛选正常范围的数据</span><br><span class="line">normal_data = data[(data &gt;= lower_bound) &amp; (data &lt;= upper_bound)]</span><br><span class="line">print(f&quot;原始数据: &#123;data&#125;&quot;)</span><br><span class="line">print(f&quot;正常数据: &#123;normal_data&#125;&quot;)</span><br></pre></td></tr></table></div></figure>


        <h4 id="5-2-成绩排名系统"   >
          <a href="#5-2-成绩排名系统" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-2-成绩排名系统" class="headerlink" title="5.2 成绩排名系统"></a>5.2 成绩排名系统</h4>
      <figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 学生成绩数据</span><br><span class="line">scores = np.array([85, 92, 78, 96, 88, 75])</span><br><span class="line">students = np.array([&#x27;Alice&#x27;, &#x27;Bob&#x27;, &#x27;Charlie&#x27;, &#x27;David&#x27;, &#x27;Eve&#x27;, &#x27;Frank&#x27;])</span><br><span class="line"></span><br><span class="line"># 按成绩降序排列</span><br><span class="line">sorted_indices = np.argsort(-scores)  # 负号实现降序</span><br><span class="line">ranked_students = students[sorted_indices]</span><br><span class="line">ranked_scores = scores[sorted_indices]</span><br><span class="line"></span><br><span class="line">print(&quot;成绩排名:&quot;)</span><br><span class="line">for i, (student, score) in enumerate(zip(ranked_students, ranked_scores)):</span><br><span class="line">    print(f&quot;&#123;i+1&#125;. &#123;student&#125;: &#123;score&#125;分&quot;)</span><br></pre></td></tr></table></div></figure>

<p>这些函数是NumPy数据处理中最常用的工具，掌握它们能极大提高数据分析和处理的效率。</p>
</div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ 本文结束，感谢您的阅读 ------</div></div><div class="post-copyright copyright"><div class="copyright-author"><span class="copyright-author__name">本文作者: </span><span class="copyright-author__value"><a href="https://1artemise.github.io">artemis</a></span></div><div class="copyright-link"><span class="copyright-link__name">本文链接: </span><span class="copyright-link__value"><a href="https://1artemise.github.io/2025/09/29/numpy/">https://1artemise.github.io/2025/09/29/numpy/</a></span></div><div class="copyright-notice"><span class="copyright-notice__name">版权声明: </span><span class="copyright-notice__value">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="external nofollow" target="_blank">BY-NC-SA</a> 许可协议。转载请注明出处！</span></div></div><div class="post-tags"><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="https://1artemise.github.io/tags/python/">python</a></span><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="https://1artemise.github.io/tags/%E5%8D%9A%E5%AE%A2/">博客</a></span><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="https://1artemise.github.io/tags/numpy/">numpy</a></span><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="https://1artemise.github.io/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</a></span></div><nav class="post-paginator paginator"><div class="paginator-prev"><a class="paginator-prev__link" href="/2025/10/26/%E8%AE%B0%20--%E8%AF%BB%E3%80%8A%E8%A5%BF%E9%A3%8E%E4%B8%8D%E8%AF%86%E7%9B%B8%E3%80%8B/"><span class="paginator-prev__icon"><i class="fas fa-angle-left"></i></span><span class="paginator-prev__text">[ 文章无标题 ]</span></a></div><div class="paginator-next"><a class="paginator-next__link" href="/2025/09/28/shell%E4%BF%AE%E7%82%BC%E6%89%8B%E5%86%8C/"><span class="paginator-prev__text">shell修炼手册</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div><div class="comments" id="comments"><div id="giscus-container"></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">文章目录</span><span class="sidebar-nav-ov">站点概览</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BB%80%E4%B9%88%E6%98%AFnumpy"><span class="toc-number">1.</span> <span class="toc-text">
          1.什么是numpy?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85numpy"><span class="toc-number">2.</span> <span class="toc-text">
          2.如何安装numpy?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E7%9F%A9%E9%98%B5%E7%9A%84%E5%AE%9E%E7%8E%B0%EF%BC%88array%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">
          3.矩阵的实现（array）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFndarray"><span class="toc-number">3.0.1.</span> <span class="toc-text">
          什么是ndarray?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ndmin-%E6%9C%80%E5%B0%8F%E7%BB%B4%E5%BA%A6"><span class="toc-number">3.0.2.</span> <span class="toc-text">
          ndmin(最小维度)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#detype%EF%BC%88%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%EF%BC%89"><span class="toc-number">3.0.3.</span> <span class="toc-text">
          detype（数据类型）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dtype%E5%88%9B%E5%BB%BA%E7%BB%93%E6%9E%84%E5%8C%96%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.0.4.</span> <span class="toc-text">
          dtype创建结构化数据类型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#np-arange"><span class="toc-number">4.</span> <span class="toc-text">
          np.arange</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9A%A0%EF%B8%8F-%E9%87%8D%E8%A6%81%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%E4%B8%8E%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88"><span class="toc-number">4.0.1.</span> <span class="toc-text">
          ⚠️ 重要注意事项与替代方案</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ndarray%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7"><span class="toc-number">5.</span> <span class="toc-text">
          ndarray对象属性</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#ndarray-ndim"><span class="toc-number">5.0.0.1.</span> <span class="toc-text">
          ndarray.ndim</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ndarray-shape"><span class="toc-number">5.0.0.2.</span> <span class="toc-text">
          ndarray.shape</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ndarray-itemsize"><span class="toc-number">5.0.0.3.</span> <span class="toc-text">
          ndarray.itemsize</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84%E7%9A%84%E5%85%B6%E4%BB%96%E6%96%B9%E5%BC%8F"><span class="toc-number">6.</span> <span class="toc-text">
          创建数组的其他方式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#numpy-empty"><span class="toc-number">6.0.0.1.</span> <span class="toc-text">
          numpy.empty</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-numpy-zeros"><span class="toc-number">6.0.0.2.</span> <span class="toc-text">
          2.numpy.zeros</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B"><span class="toc-number">7.</span> <span class="toc-text">
          实例</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-numpy-ones"><span class="toc-number">7.0.0.1.</span> <span class="toc-text">
          3.numpy.ones</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-numpy-zeros-like"><span class="toc-number">7.0.0.2.</span> <span class="toc-text">
          4.numpy.zeros_like</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-numpy-ones-like"><span class="toc-number">7.0.0.3.</span> <span class="toc-text">
          5.numpy.ones_like</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%88%87%E7%89%87%E5%92%8C%E7%B4%A2%E5%BC%95"><span class="toc-number">8.</span> <span class="toc-text">
          4.切片和索引</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#slice%E5%88%87%E5%89%B2%EF%BC%88%E4%BA%86%E8%A7%A3%E5%8D%B3%E5%8F%AF%EF%BC%8C%E4%B8%8D%E6%8E%A8%E8%8D%90%EF%BC%89"><span class="toc-number">8.0.0.1.</span> <span class="toc-text">
          slice切割（了解即可，不推荐）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%86%92%E5%8F%B7%E5%88%86%E9%9A%94%E5%88%87%E7%89%87-%E6%8E%A8%E8%8D%90%EF%BC%8C%E5%92%8C%E5%89%8D%E9%9D%A2%E5%AD%A6%E7%9A%84list%E7%9B%B8%E9%80%9A"><span class="toc-number">8.0.0.2.</span> <span class="toc-text">
          冒号分隔切片(推荐，和前面学的list相通)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9C%81%E7%95%A5%E5%8F%B7%E5%88%87%E7%89%87"><span class="toc-number">8.0.0.3.</span> <span class="toc-text">
          省略号切片</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E7%B4%A2%E5%BC%95"><span class="toc-number">9.</span> <span class="toc-text">
          高级索引</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B4%E6%95%B0%E6%95%B0%E7%BB%84%E7%B4%A2%E5%BC%95"><span class="toc-number">9.0.0.1.</span> <span class="toc-text">
          整数数组索引</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E7%B4%A2%E5%BC%95"><span class="toc-number">9.0.0.2.</span> <span class="toc-text">
          布尔索引</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%8A%B1%E5%BC%8F%E7%B4%A2%E5%BC%95"><span class="toc-number">9.0.0.3.</span> <span class="toc-text">
          花式索引</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NumPy-%E5%B9%BF%E6%92%AD-Broadcast"><span class="toc-number">10.</span> <span class="toc-text">
          NumPy 广播(Broadcast)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NumPy%E8%BF%AD%E4%BB%A3%E6%95%B0%E7%BB%84"><span class="toc-number">11.</span> <span class="toc-text">
          NumPy迭代数组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-nditer%E7%9A%84%E8%BF%AD%E4%BB%A3%E9%A1%BA%E5%BA%8F"><span class="toc-number">11.0.1.</span> <span class="toc-text">
          1.nditer的迭代顺序</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%BE%AA%E7%8E%AF%EF%BC%9Anp-nditer-a-T"><span class="toc-number">11.0.1.1.</span> <span class="toc-text">
          第一个循环：np.nditer(a.T)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%BE%AA%E7%8E%AF%EF%BC%9Anp-nditer-a-T-copy-order-C"><span class="toc-number">11.0.1.2.</span> <span class="toc-text">
          第二个循环：np.nditer(a.T.copy(order&#x3D;&#39;C&#39;))</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-nditer%E7%9A%84flags%E5%8F%82%E6%95%B0"><span class="toc-number">11.0.2.</span> <span class="toc-text">
          2.nditer的flags参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-nditer%E4%BF%AE%E6%94%B9%E6%95%B0%E7%BB%84%E4%B8%AD%E5%85%83%E7%B4%A0%E7%9A%84%E5%80%BC"><span class="toc-number">11.0.3.</span> <span class="toc-text">
          3.nditer修改数组中元素的值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%B9%BF%E6%92%AD%E8%BF%AD%E4%BB%A3"><span class="toc-number">11.0.4.</span> <span class="toc-text">
          4.广播迭代</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NumPy-%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C%E5%B8%B8%E7%94%A8%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">12.</span> <span class="toc-text">
          NumPy 数组操作常用知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BF%AE%E6%94%B9%E6%95%B0%E7%BB%84%E5%BD%A2%E7%8A%B6"><span class="toc-number">12.1.</span> <span class="toc-text">
          1. 修改数组形状</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-reshape"><span class="toc-number">12.1.1.</span> <span class="toc-text">
          1.1 reshape</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-flatten-%E5%92%8C-ravel"><span class="toc-number">12.1.2.</span> <span class="toc-text">
          1.2 flatten 和 ravel</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%BF%BB%E8%BD%AC%E6%95%B0%E7%BB%84"><span class="toc-number">12.2.</span> <span class="toc-text">
          2. 翻转数组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-transpose-%E5%92%8C-T"><span class="toc-number">12.2.1.</span> <span class="toc-text">
          2.1 transpose 和 T</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%BF%AE%E6%94%B9%E6%95%B0%E7%BB%84%E7%BB%B4%E5%BA%A6"><span class="toc-number">12.3.</span> <span class="toc-text">
          3. 修改数组维度</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-expand-dims"><span class="toc-number">12.3.1.</span> <span class="toc-text">
          3.1 expand_dims</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-squeeze"><span class="toc-number">12.3.2.</span> <span class="toc-text">
          3.2 squeeze</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E8%BF%9E%E6%8E%A5%E6%95%B0%E7%BB%84"><span class="toc-number">12.4.</span> <span class="toc-text">
          4. 连接数组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-concatenate"><span class="toc-number">12.4.1.</span> <span class="toc-text">
          4.1 concatenate</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-stack"><span class="toc-number">12.4.2.</span> <span class="toc-text">
          4.2 stack</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-hstack-%E5%92%8C-vstack"><span class="toc-number">12.4.3.</span> <span class="toc-text">
          4.3 hstack 和 vstack</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%88%86%E5%89%B2%E6%95%B0%E7%BB%84"><span class="toc-number">12.5.</span> <span class="toc-text">
          5. 分割数组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-split"><span class="toc-number">12.5.1.</span> <span class="toc-text">
          5.1 split</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-hsplit-%E5%92%8C-vsplit"><span class="toc-number">12.5.2.</span> <span class="toc-text">
          5.2 hsplit 和 vsplit</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E7%9A%84%E6%B7%BB%E5%8A%A0%E4%B8%8E%E5%88%A0%E9%99%A4"><span class="toc-number">12.6.</span> <span class="toc-text">
          6. 数组元素的添加与删除</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-append"><span class="toc-number">12.6.1.</span> <span class="toc-text">
          6.1 append</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2-insert"><span class="toc-number">12.6.2.</span> <span class="toc-text">
          6.2 insert</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-delete"><span class="toc-number">12.6.3.</span> <span class="toc-text">
          6.3 delete</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-4-unique"><span class="toc-number">12.6.4.</span> <span class="toc-text">
          6.4 unique</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NumPy-%E6%8E%92%E5%BA%8F%E4%B8%8E%E6%9D%A1%E4%BB%B6%E7%AD%9B%E9%80%89%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">13.</span> <span class="toc-text">
          NumPy 排序与条件筛选常用函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%8E%92%E5%BA%8F%E5%87%BD%E6%95%B0"><span class="toc-number">13.1.</span> <span class="toc-text">
          1. 排序函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-numpy-sort"><span class="toc-number">13.1.1.</span> <span class="toc-text">
          1.1 numpy.sort()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-numpy-argsort"><span class="toc-number">13.1.2.</span> <span class="toc-text">
          1.2 numpy.argsort()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%9C%80%E5%80%BC%E7%B4%A2%E5%BC%95%E5%87%BD%E6%95%B0"><span class="toc-number">13.2.</span> <span class="toc-text">
          2. 最值索引函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-numpy-argmax-%E5%92%8C-numpy-argmin"><span class="toc-number">13.2.1.</span> <span class="toc-text">
          2.1 numpy.argmax() 和 numpy.argmin()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%9D%A1%E4%BB%B6%E7%AD%9B%E9%80%89%E5%87%BD%E6%95%B0"><span class="toc-number">13.3.</span> <span class="toc-text">
          3. 条件筛选函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-numpy-where"><span class="toc-number">13.3.1.</span> <span class="toc-text">
          3.1 numpy.where()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-numpy-nonzero"><span class="toc-number">13.3.2.</span> <span class="toc-text">
          3.2 numpy.nonzero()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-numpy-extract"><span class="toc-number">13.3.3.</span> <span class="toc-text">
          3.3 numpy.extract()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%AE%9E%E7%94%A8%E6%8E%92%E5%BA%8F%E6%8A%80%E5%B7%A7"><span class="toc-number">13.4.</span> <span class="toc-text">
          4. 实用排序技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-%E6%8C%89%E6%8C%87%E5%AE%9A%E5%AD%97%E6%AE%B5%E6%8E%92%E5%BA%8F%EF%BC%88%E7%BB%93%E6%9E%84%E5%8C%96%E6%95%B0%E7%BB%84%EF%BC%89"><span class="toc-number">13.4.1.</span> <span class="toc-text">
          4.1 按指定字段排序（结构化数组）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-%E5%88%86%E5%8C%BA%E6%8E%92%E5%BA%8F-numpy-partition"><span class="toc-number">13.4.2.</span> <span class="toc-text">
          4.2 分区排序 numpy.partition()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%E7%A4%BA%E4%BE%8B"><span class="toc-number">13.5.</span> <span class="toc-text">
          5. 实际应用示例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97%EF%BC%9A%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8%E5%80%BC"><span class="toc-number">13.5.1.</span> <span class="toc-text">
          5.1 数据清洗：处理异常值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-%E6%88%90%E7%BB%A9%E6%8E%92%E5%90%8D%E7%B3%BB%E7%BB%9F"><span class="toc-number">13.5.2.</span> <span class="toc-text">
          5.2 成绩排名系统</span></a></li></ol></li></ol></li></ol></section><!-- ov = overview--><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/背景.jpg" alt="avatar"></div><p class="sidebar-ov-author__text">jade</p></div><div class="sidebar-ov-social"><a class="sidebar-ov-social-item" href="https://github.com/1artemise" target="_blank" rel="noopener" data-popover="Github" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-github"></i></span></a><a class="sidebar-ov-social-item" href="https://plus.google.com/" target="_blank" rel="noopener" data-popover="Google" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-google"></i></span></a><a class="sidebar-ov-social-item" href="https://twitter.com/" target="_blank" rel="noopener" data-popover="Twitter" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-twitter"></i></span></a><a class="sidebar-ov-social-item" href="https://youtube.com/" target="_blank" rel="noopener" data-popover="Youtube" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-youtube"></i></span></a><a class="sidebar-ov-social-item" href="wjywq12345" target="_blank" rel="noopener" data-popover="微信" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-weixin"></i></span></a><a class="sidebar-ov-social-item" href="2985725866" target="_blank" rel="noopener" data-popover="QQ" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-qq"></i></span></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="知识共享许可协议" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">你已阅读了 </span><span class="sidebar-reading-info__num">0</span><span class="sidebar-reading-info__perc">%</span></div><div class="sidebar-reading-line"></div></div></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2025</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>artemis</span></div><div><span>由 <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> 强力驱动</span><span> v7.3.0</span><span class="footer__devider">|</span><span>主题 - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.8.0</span></div><div class="busuanzi"><span class="busuanzi-siteuv"><span class="busuanzi-siteuv__icon" data-popover-pos="up" data-popover="访问人数"><i class="fas fa-user"></i></span><span class="busuanzi-siteuv__value" id="busuanzi_value_site_uv"></span></span><span class="busuanzi-sitepv"><span class="busuanzi-siteuv__icon" data-popover-pos="up" data-popover="浏览总量"><i class="fas fa-eye"></i></span><span class="busuanzi-siteuv__value" id="busuanzi_value_site_pv"></span></span></div><!-- 在 footer.pug 文件末尾添加以下代码--><script>// 点击特效代码
(function() {
    // 创建爱心特效
    function createHeartEffect(x, y) {
        const heart = document.createElement('div');
        heart.style.cssText = `
            position: fixed;
            left: ${x}px;
            top: ${y}px;
            width: 20px;
            height: 20px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23ff4757"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>') no-repeat center center;
            background-size: contain;
            pointer-events: none;
            z-index: 9999;
            transition: all 1s ease-out;
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        `;
        document.body.appendChild(heart);
        
        setTimeout(() => {
            heart.style.opacity = '0';
            heart.style.transform = `translate(-50%, -100px) scale(0.5)`;
        }, 50);
        
        setTimeout(() => {
            document.body.removeChild(heart);
        }, 1000);
    }

    // 创建文字特效
    function createTextEffect(x, y, text) {
        const textEl = document.createElement('div');
        textEl.style.cssText = `
            position: fixed;
            left: ${x}px;
            top: ${y}px;
            color: #87ceeb;
            font-size: 16px;
            font-weight: bold;
            pointer-events: none;
            z-index: 9999;
            transition: all 1s ease-out;
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.8);
        `;
        textEl.textContent = text;
        document.body.appendChild(textEl);
        
        setTimeout(() => {
            textEl.style.opacity = '0';
            textEl.style.transform = `translate(-50%, -80px) scale(0.8)`;
        }, 50);
        
        setTimeout(() => {
            document.body.removeChild(textEl);
        }, 1000);
    }

    // 点击事件处理
    document.addEventListener('click', function(e) {
        const effects = ['heart', 'text'];
        const randomEffect = effects[Math.floor(Math.random() * effects.length)];
        
        if (randomEffect === 'heart') {
            createHeartEffect(e.clientX, e.clientY);
        } else {
            const texts = ['今日方知我是我', '宁作我，岂其卿', '高山仰止', '霁月光风', '我心清且微', '犹怜草木青'];
            const randomText = texts[Math.floor(Math.random() * texts.length)];
            createTextEffect(e.clientX, e.clientY, randomText);
        }
    });

    // 移动端触摸事件
    document.addEventListener('touchstart', function(e) {
        const touch = e.touches[0];
        const effects = ['heart', 'text'];
        const randomEffect = effects[Math.floor(Math.random() * effects.length)];
        
        if (randomEffect === 'heart') {
            createHeartEffect(touch.clientX, touch.clientY);
        } else {
            const texts = ['今日方知我是我', '宁作我，岂其卿', '高山仰止', '霁月光风', '我心清且微', '犹怜草木青'];
            const randomText = texts[Math.floor(Math.random() * texts.length)];
            createTextEffect(touch.clientX, touch.clientY, randomText);
        }
    });
})();
// 鼠标跟随粒子特效</script><script>(function() {
    class Particle {
        constructor(x, y) {
            this.x = x;
            this.y = y;
            this.size = Math.random() * 5 + 2;
            this.speedX = Math.random() * 3 - 1.5;
            this.speedY = Math.random() * 3 - 1.5;
            this.color = `hsl(${Math.random() * 60 + 180}, 70%, 60%)`; // 蓝色系
        }
        
        update() {
            this.x += this.speedX;
            this.y += this.speedY;
            if (this.size > 0.2) this.size -= 0.1;
        }
        
        draw(ctx) {
            ctx.fillStyle = this.color;
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
            ctx.fill();
        }
    }

    let particles = [];
    let canvas = document.createElement('canvas');
    let ctx = canvas.getContext('2d');
    canvas.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 9998;
    `;
    document.body.appendChild(canvas);

    function init() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    }

    function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        for (let i = 0; i < particles.length; i++) {
            particles[i].update();
            particles[i].draw(ctx);
            
            if (particles[i].size <= 0.2) {
                particles.splice(i, 1);
                i--;
            }
        }
        requestAnimationFrame(animate);
    }

    init();
    animate();

    let mouseX = 0;
    let mouseY = 0;
    document.addEventListener('mousemove', (e) => {
        mouseX = e.clientX;
        mouseY = e.clientY;
        
        for (let i = 0; i < 5; i++) {
            particles.push(new Particle(mouseX, mouseY));
        }
    });

    window.addEventListener('resize', init);
})();</script></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js"></script><script src="https://cdn.jsdelivr.net/gh/sukkaw/busuanzi@latest/bsz.pure.mini.js" async></script><script>function loadGiscus() {
  var container = document.getElementById('giscus-container');
  
  if (!container) {
    return;
  }

  // 清空容器内容，防止重复加载
  container.innerHTML = '';

  var script = document.createElement('script');
  script.src = 'https://giscus.app/client.js';
  script.setAttribute('data-repo', '1artemise/-for_comment');
  script.setAttribute('data-repo-id', 'R_kgDOP1AvRA');
  script.setAttribute('data-category', 'Announcements');
  script.setAttribute('data-category-id', 'DIC_kwDOP1AvRM4Cvx7c');
  script.setAttribute('data-mapping', 'pathname');
  script.setAttribute('data-strict', '0');
  script.setAttribute('data-reactions-enabled', '1');
  script.setAttribute('data-emit-metadata', '0');
  script.setAttribute('data-input-position', 'top');
  script.setAttribute('data-theme', 'light');
  script.setAttribute('data-lang', 'zh-CN');
  script.setAttribute('data-loading', 'lazy');
  script.setAttribute('crossorigin', 'anonymous');
  script.setAttribute('async', '');
  
  if (false) {
    script.setAttribute('data-pjax-rm', '');
  }
  
  container.appendChild(script);
}

if (false) {
  loadGiscus();
} else {
  window.addEventListener('DOMContentLoaded', loadGiscus, false);
}</script><script src="/js/utils.js?v=2.8.0"></script><script src="/js/stun-boot.js?v=2.8.0"></script><script src="/js/scroll.js?v=2.8.0"></script><script src="/js/header.js?v=2.8.0"></script><script src="/js/sidebar.js?v=2.8.0"></script></body></html>